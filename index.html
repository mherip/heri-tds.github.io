<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <link rel = "stylesheet" href = "style.css">
</head>
<body>
  <div class = "login-container">
    <div id= "main">
      <h1>Sign In</h1>
      <input id = "email" type = "text" placeholder = "Email"></input>
      <input id = "password" type = "password" placeholder = "Password"></input>
      <button id = "submit">Submit</button>
      <p><span>Heri Jos</span></p>
    </div>

    
  </div>
  <script type = "module" >
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-analytics.js";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";

const firebaseConfig = {
    apiKey: "AIzaSyDKcOV8lOojlfBrPJQlgVV_fIrGHSFeTbY",
			authDomain: "skripsi-tds.firebaseapp.com",
			databaseURL: "https://skripsi-tds-default-rtdb.firebaseio.com",
			projectId: "skripsi-tds",
			storageBucket: "skripsi-tds.appspot.com",
			messagingSenderId: "642338782269",
			appId: "1:642338782269:web:d449f1f8dee5a6083abe54"
};

const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const auth = getAuth(app);

const submitButton = document.getElementById("submit");
const signupButton = document.getElementById("sign-up");
const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");
const main = document.getElementById("main");
const createacct = document.getElementById("create-acct")

const signupEmailIn = document.getElementById("email-signup");
const confirmSignupEmailIn = document.getElementById("confirm-email-signup");
const signupPasswordIn = document.getElementById("password-signup");
const confirmSignUpPasswordIn = document.getElementById("confirm-password-signup");
const createacctbtn = document.getElementById("create-acct-btn");

const returnBtn = document.getElementById("return-btn");

var email, password, signupEmail, signupPassword, confirmSignupEmail, confirmSignUpPassword;


submitButton.addEventListener("click", function() {
  email = emailInput.value;
//   console.log(email);
  password = passwordInput.value;
//   console.log(password);

  signInWithEmailAndPassword(auth, email, password)
    .then((userCredential) => {
      // Signed in
      const user = userCredential.user;
    //   console.log("Success! Welcome back!");
      window.alert("Success! Welcome back!");
      sessionStorage.setItem("user", "Logged");
      window.location.replace("dashboard.html");
    })
    .catch((error) => {
      const errorCode = error.code;
      const errorMessage = error.message;
    //   console.log("Gagal Login. Username atau Password salah");
      window.alert("Gagal Login. Username atau Password salah");
    });
});

  </script>
  <script>
     if (sessionStorage.getItem("user") != null) {
        window.location.replace("dashboard.html");
      }
  </script>
</body>
</html>